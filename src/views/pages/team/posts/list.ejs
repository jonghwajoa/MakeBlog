<!DOCTYPE html5>
<html lang="ko">
  <head>
    <title>WeKnowJS</title>
    <meta charset="UTF-8" />
    <meta name="author" content="JongHwa" />
    <meta name="description" content="JONGHWA BLOG" />
    <meta name="generator" content="Visual Studio Code" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <% include ../../../partials/essentialCss.ejs %>
    <link rel="stylesheet" href="/css/posts/list.css" />
  </head>

  <body>
    <% include ../../../partials/headerTeam.ejs %>

    <div class="content-wrap">
      <div class="flex-container">
        <div class="post-area" id="post-area"></div>

        <aside>
          <!-- aside-ontainer -->
          <div class="create-btn">
            <a href="/posts/new"> <input type="button" value="글등록" /> </a>
          </div>
          <div class="aside-container">
            <!-- visit-count -->
            <div class="visit-count">
              <div class="gridItem title">total</div>
              <div class="gridItem title">monthly</div>
              <div class="gridItem title">today</div>
              <div class="gridItem"><%= totalCount %></div>
              <div class="gridItem"><%= monthCount %></div>
              <div class="gridItem"><%=today%></div>
            </div>
            <!-- //visit-count -->

            <!-- hotPost -->
            <div class="hotPost">
              <h2>Post TOP5</h2>
              <ul>
                <% hotPost.forEach((item,index) => { %>
                <li>
                  <a href="/posts/<%=item.no%>">
                    <span><%= index+1 %> <%= item.title %></span>
                  </a>
                </li>
                <% }) %>
              </ul>
            </div>
            <!-- //hotPost -->

            <!-- hotSubPost -->
            <div class="hotSubPost">
              <h2>SubPost TOP5</h2>
              <ul>
                <% hotSubPost.forEach((item,index) => { %>
                <li>
                  <a href="/posts/<%=item.post_no%>/<%=item.sub_no%>">
                    <span><%= index+1 %></span> <span><%= item.title %></span>
                  </a>
                </li>
                <% }) %>
              </ul>
            </div>
            <!-- //hotSubPost -->

            <!-- allTag -->
            <div class="allTag">
              <h2>태그 목록</h2>
              <ul>
                <li id="showAllPost">전체 게시글 보기</li>
                <% allTag.forEach(e => { %>
                <li>
                  <a onclick="post.tagAreaEvent('<%= e.Tag.name %>')"
                    >&#8917;<%= e.Tag.name %> <span><%= e.dataValues.count %></span></a
                  >
                </li>
                <% }) %>
              </ul>
            </div>
            <!-- //allTag -->
          </div>
        </aside>
        <div class="moveTop-btn" id="moveTop-btn">&#x2912;</div>
      </div>
    </div>
    <script src="/js/nav/nav.js"></script>
    <script src="/js/util/ajaxUtil.js"></script>
    <script src="/js/posts/list.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        post.listInit();
      });
    </script>
  </body>
</html>
